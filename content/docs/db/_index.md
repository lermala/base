---
title: Базы данных и SQL
weight: 22
---

## Основное о БД

Что почитать:
- Тут список и описание рекомендуемых книг: [Книги по SQL: что почитать новичкам и специалистам](https://selectel.ru/blog/books-sql)
- Выжимка про БД: [Базы данных / ensi](https://ensi-platform.gitlab.io/analyst-guides/tools/database)
- [Шпаргалка по SQL (postgres), которая выручает меня на собесах / Habr](https://habr.com/ru/articles/745948)
- [Database Design Guide | Ensi](https://ensi-platform.gitlab.io/guidelines/database)

**База данных (БД)** — это организованная структура, предназначенная для хранения, управления и доступа к связанным данным. 

Пример: база клиентов банка хранит сведения о клиентах, их счетах, операциях и связях между этими объектами.

*Главная идея БД:* данные хранятся не в виде разрозненных файлов, а в системе, где можно быстро находить, изменять и анализировать информацию по определённым правилам.

**Система управления базами данных (СУБД)** — это программное обеспечение, с помощью которого создаются, хранятся, изменяются и управляются базы данных.  

**Функции СУБД**

- **Хранение и управление данными** — создание, изменение, удаление таблиц и записей.  
- **Манипулирование данными** — выполнение запросов (чтение, фильтрация, сортировка, агрегация).  
- **Обеспечение целостности** — контроль связей между таблицами и корректности данных.  
- **Управление транзакциями** — гарантирует, что операции выполняются полностью или не выполняются вовсе.  
- **Разграничение доступа** — настройка прав пользователей.  
- **Резервное копирование и восстановление** — защита данных от потерь.  
- **Оптимизация и индексация** — повышение скорости запросов.

### Как объяснить бабушке, что такое база данных

Представь, что у тебя есть **тетрадь с рецептами**.  
Каждый рецепт — это **строка**, а графы вроде “Название”, “Ингредиенты”, “Время приготовления” — это **столбцы**.  
Если тетрадей несколько (например, для супов, салатов, десертов) — это уже **несколько таблиц**.  
Система, которая помогает быстро найти нужный рецепт, изменить ингредиенты и не перепутать страницы — это и есть **СУБД**.  
А сама тетрадь — **база данных**.

## Типы БД

Некоторые типы БД:

| Тип БД | Принцип организации данных | Особенности и применение |
|--------|-----------------------------|---------------------------|
| Реляционные (табличные) | Данные хранятся в таблицах с колонками и строками. Между таблицами устанавливаются связи через ключи.</br>Примеры СУБД: PostgreSQL, MySQL, Oracle, MS SQL Server. | Подходят для структурированных данных, где важны связи и целостность (CRM, бухгалтерия, учёт заказов). |
| NoSQL (нереляционные) | Данные хранятся не в таблицах, а в гибких структурах — документах, графах, ключах или колонках.</br>Примеры СУБД: MongoDB, Redis, Cassandra, Neo4j. | Подходят для больших объёмов, слабоструктурированных или быстро меняющихся данных (Big Data, веб-приложения). |
| Объектно-ориентированные | Данные представлены в виде объектов с атрибутами и методами, как в ООП.</br>Примеры СУБД: db4o, ObjectDB. | Удобны для приложений, где логика хранится в виде объектов (например, инженерные системы). |
| Иерархические | Данные организованы в виде дерева «родитель → потомок».</br>Примеры СУБД: IBM IMS, Windows Registry. | Быстрый доступ при иерархической структуре (например, каталоги, файловые системы). |
| Сетевые | Записи могут иметь несколько связей между собой, образуя граф.</br>Примеры СУБД: IDMS, Raima Database. | Гибче иерархической модели, но сложнее в реализации. Используется в старых корпоративных системах. |

Подробнее обо всех типах можно прочитать в статье [Виды баз данных. Большой обзор типов СУБД / Habr](https://habr.com/ru/companies/amvera/articles/754702)

### SQL vs NoSQL

| Характеристика | SQL (реляционные) | NoSQL (нереляционные) |
|-----------------|-------------------|------------------------|
| Структура | Таблицы с чёткой схемой | Гибкие форматы: документы, графы, ключи |
| Связи | Чётко определены (JOIN) | Часто отсутствуют или реализованы иначе |
| Масштабирование | Вертикальное (усиление сервера) | Горизонтальное (добавление узлов) |
| Язык запросов | SQL | Собственные API или языки |
| Транзакции | ACID — строгая согласованность | Часто BASE — гибкая согласованность |
| Когда использовать | Когда нужны надёжные транзакции, строгие связи, структура данных стабильна (Финансы, CRM, ERP) | Когда структура часто меняется, объёмы огромны, требуется высокая скорость и масштабируемость (Big Data, IoT, аналитика, кеширование) |
| Плюсы и минусы | + Надёжность, согласованность данных.</br>+ Мощный язык запросов.</br>− Менее гибкая схема, сложнее масштабировать.  | </br>+ Гибкость структуры и высокая производительность.</br>+ Простое горизонтальное масштабирование.</br>− Меньше инструментов для транзакций, сложнее обеспечивать целостность. |

## Моделирование ERD
https://ensi-platform.gitlab.io/analyst-guides/tools/diagrams/erd

### Модель Чена
В этой системе сущности обозначаются прямоугольниками, а связи — ромбами; прямоугольники и ромбы соединяются линиями

### Воронья Лапка
Система обозначений с применением значка "воронья лапка" (Crow's Foot).
В этой системе сущности также обозначаются прямоугольниками, а связи между сущностями представлены с помощью линий. Связь "один ко многим" или "многие ко многим" представлена с использованием значка "воронья лапка" на одном или обоих концах линии.

## Вопросы

Виды ограничений БД?
Какие способы масштабирования БД можешь назвать?
Какие способы оптимизации БД можешь назвать?
Что такое требования ACID?
Как объяснить бабушке что такое БД.

IV SQL и базы данных
36.   Приходилось ли вам писать sql-запросы? Для чего?
37.   Зачем нужны индексы в таблицах БД?
38.   Знакомы ли вы с нормализацией баз данных?
39.   Задача на нормализацию таблиц базы данных. Дают две таблицы с некоторыми полями. Что в них не так и почему? Как исправить?


40.   Какие виды JOIN запросов вы знаете?
41.   Задача sql. Дают таблицы. Напишите SELECT с такими-то условиями запроса (задача на JOIN).
42.   Задача sql. Дают таблицы. Напишите SELECT с такими-то условиями запроса (задача на GROUP BY).
43.   Даются следующие три операции SQL. Какой будет результат?

TRUNCATE TABLE;
ROLLBACK;
SELECT * FROM TABLE;

44.   Чем TRANCATE отличается от DELETE?
45.   Дается SQL запрос. Назовите все ошибки в синтаксисе, которые вы видите.
46.   Назовите все способы в SQL выбрать данные из первой таблицы, которых нет во второй таблице (NOT IN, NOT EXISTS и др).


47.   Что такое транзакция?
48.   Какими свойствами должна обладать транзакция? (ACID)
49.   Чем отличается UNION от UNION ALL?
50.   Какие типы JOIN вы знаете? Чем LEFT JOIN отличается от FULL JOIN ?
51.   Можете назвать три первые формы нормализации?
52.   Что такое первичный ключ? Каким свойством обладает первичный ключ? Что такое внешний ключ?
53.   Что такое поисковые пути в базах данных?
54.   Какие бывают представления в БД?
55.   Для чего используется HAVING в SQL?